{% extends "dashboard/base.html" %}

{% block content %}

<!-- DataTales Example -->
<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">List of all Users</h6>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Name & Uid</th>
                        <th>Department/ Patient</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <th>Name & Uid</th>
                        <th>Description</th>
                        <th>Action</th>
                    </tr>
                </tfoot>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td style="display:flex; column-gap: 20px; align-items: center;"> <img
                                class="image-fluid avatar-img" src="{{user.staff.image.url}}"
                                alt="{{poster.username}} profile pic" />
                            {{user.first_name}} {{user.last_name}} <br />
                            {{user.id}}
                        </td>
                        <td>{{user.staff.department.name}}</td>
                        <td>
                            {% if is_admin or is_depadmin %}
                            <a href="{% url 'user-update' user.id %}"
                                class="btn btn-outline-primary btn-sm mx-2 text-center">
                                <i class="bi bi-pencil"></i>
                            </a>
                            &nbsp;&nbsp;
                            <a href="{% url 'user-delete' user.id %}"
                                class="btn btn-outline-danger btn-sm mx-2 text-center"><i class="bi bi-trash"></i></a>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock content %}